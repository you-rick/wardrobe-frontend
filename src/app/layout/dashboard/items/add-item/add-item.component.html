<div class="row">
  <div class="col-10">
    <div class="panel card p-3">
      <h3 class="mb-3">Add new item</h3>
      <form #itemForm="ngForm" (ngSubmit)="onSubmit(itemForm)">
        <div class="form-group">
          <label>Item Name</label>
          <input type="text" class="form-control" name="title" [ngModel]="newItem.title" placeholder="Enter item name">
        </div>
        <div class="form-group">
          <label>Item Photo</label>
          <input type="file" class="form-control" name="file" [ngModel]="newItem.photo" (change)="fileChangeEvent($event)"/>
          <input type="hidden" name="photo">
        </div>

        <image-cropper
          [imageChangedEvent]="imageChangedEvent"
          [maintainAspectRatio]="true"
          [aspectRatio]="2 / 3"
          format="png"
          (imageCropped)="imageCropped($event)"
          (imageLoaded)="imageLoaded()"
          (cropperReady)="cropperReady()"
          (loadImageFailed)="loadImageFailed()"
        ></image-cropper>

        <button type="submit" class="btn btn-primary">Save</button>
      </form>
    </div>
  </div>
</div>

<ngb-toast
  *ngIf="show"
  header="Autohide can be cancelled"
  [delay]="5000"
  [autohide]="autohide"
  (mouseenter)="autohide = false"
  (mouseleave)="autohide = true"
  (hide)="show = false; autohide = true"
  [class.bg-warning]="!autohide"
>
</ngb-toast>
